<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OTP Verification</title>
    <link rel="stylesheet" href="/css/login-verify.css"> <!-- Link to your styles.css -->
</head>
<body>
    <div class="container">
        <!-- Logo -->
        <div class="logo-container">
            <img src="/images/progress-image.jpg" alt="Logo" class="logo">
        </div>

        <h2>OTP Verification</h2>
        
        <!-- OTP Sent Message -->
        <p id="otp-sent-message" style="color: rgb(228, 227, 227); display: none;">
            A 6-digit OTP has been sent to your email: <strong><%= email %></strong>
        </p>

        <!-- OTP Input Form -->
        <form action="/verify-login-otp" method="POST">
            <label for="otp">Enter OTP:</label>
            <textarea id="otp" name="otp" required></textarea>
            <button type="submit">Verify OTP</button>
        </form>

        <!-- Generic Server Message -->
        <p id="message" style="color: rgb(27, 237, 31); display: none;"><%= message %></p>
    </div>

    <!-- JavaScript -->
    <script>
        <% if (email) { %>
            // Show OTP sent message and hide after 3 seconds
            const otpSentMessage = document.getElementById('otp-sent-message');
            otpSentMessage.style.display = 'block'; // Show the OTP sent message
            setTimeout(() => {
                otpSentMessage.style.display = 'none'; // Hide after 3 seconds
            }, 3000); // 3000 milliseconds = 3 seconds
        <% } %>

        <% if (message) { %>
            // Show the server message and hide after 3 seconds
            const messageElement = document.getElementById('message');
            messageElement.style.display = 'block'; // Show the message
            setTimeout(() => {
                messageElement.style.display = 'none'; // Hide after 3 seconds
            }, 3000); // 3000 milliseconds = 3 seconds
        <% } %>
    </script>
</body>
</html>
